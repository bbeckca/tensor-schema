Testing Phi3VImagePixelInputs schema validation...

1. Single tensor:
Validation passed
✅ Passed
2. List of tensors:
Validation passed
✅ Passed
3. Tuple of tensors:
Validation passed
✅ Passed
4. Symbolic dimension matching:
Validation passed
✅ Passed

Error cases:
5. Mismatched batch sizes:
❌ Failed (expected): image_sizes dim[0] expected 'bn'=12, got 16
6. Missing data field:
❌ Failed (expected): Required field 'data' is missing
7. Missing image_sizes field:
❌ Failed (expected): Required field 'image_sizes' is missing
8. Wrong data shape:
❌ Failed (expected): data has rank 4 but expected 5
9. Wrong image_sizes shape:
❌ Failed (expected): image_sizes dim[1] expected 2, got 3
10. Empty lists:
❌ Failed (expected): data is an empty list
11. Inconsistent shapes in list:
❌ Failed (expected): data contains inconsistent shapes: torch.Size([64, 3, 32, 32]) vs torch.Size([64, 3, 16, 16]) at index 1
12. Symbolic + constant dimension mismatch:
❌ Failed (expected): data dim[2] expected 3, got 4

All tests completed.
